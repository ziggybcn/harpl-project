# Introduction #

In the Harpl Language there are two kind of data type conversions:

  * Implicit Conversion
  * Explicit Conversion

# Details #

**Implicit conversion**
This is the data type conversion that happens automatically on some arithmetic operations, when mixing two operands of different kinds.

  * Arithmetic operations: This operations can only be performed on numeric operands, such as Integers and Floats. Data balancing on this operations is very simple. If any of the operators is a Float, the operation returs a Float. If both operators are Integer, the operation returns an Integer. If you try to use a String or Boolean into an arithmetic operation, an error will be generated by the Harpl compiler. If you need to convert a String value tu a number, you can use the "As" clause.

  * String operations: This operations can only be performed with String and numeric operands. When you use any numeric data type on a string operation, the numberic data type will be automatically converted to its decimal string representation. Boolean operands are not allowed on string operations.

  * Bitwise operations: This operations can only be performed on Integer data types.

  * Comparison operations: This operations can be performed on any data type, but compared data types have to be the same, or compatible. This table shows compatibility:

| Operator 1 | Operator 2 | All is Converted to | Returns |
|:-----------|:-----------|:--------------------|:--------|
| Integer    | Float      | Float               | Boolean |
| Float      | Integer    | Float               | Boolean |

Any other comparison has to be done on operands of the same kind, and there is no conversion in the process. If you need to compare variables of different kinds, you may use the As clause to force an explicit conversion.

  * Value assignation: This table shows the kind of values that can be assigned to a given variable kind:

| Variable | Integer | Float | String | Boolean | Object |
|:---------|:--------|:------|:-------|:--------|:-------|
| Integer | YES | YES | NO  | NO  | NO |
| Float | YES | YES | NO | NO | NO |
| String | YES | YES | YES | NO | NO |
| Boolean | NO | NO  | NO | YES | NO |
| Object | NO | NO | NO | NO | YES |

While some datatypes are compatible, it is a good idea to avoid data-type conversions as they're usually slower than direct assignation of variables of the same kind.

  * Logical operations: Logical operations (performed with the **And** and **Or** operators) accept Integers, Floats, Strings and Booleans, and return a Boolean value. This special Logical operators integrate some implicit data-type conversion that allows data-types to be mixed. Expressions evaluate this way:
| Data kind | Is true |
|:----------|:--------|
| Boolean | when it has the value True |
| Integer | when it is different from zero |
| Float | When it is different from zero |
| String | when it is different from an empty string|

All in all, this sentences would be equivalent:
<pre>
If (MyStringVariable <> "") & (MyIntegerVariable <> 0)<br>
</pre>
<pre>
If MyStringVariable <> "" And MyIntegerVariable <> 0<br>
</pre>
<pre>
If MyStringVariable And MyIntegerVariable<br>
</pre>
This automatic data conversion to Boolean is peformed by the logical operators and it is considered an exception in the language design as we consider that, when used properly, can help produce simpler expressions that are easier to understand and maintain.

**Explicit conversion**

Harpl allows explicit data type conversion using the "As" keyword.

Example:
```
Define MyFloat:Float = "34" As Float;
```
In this example, we're forcing an explicit conversion from a String value "34" to a Float number. In this example, the variable `MyFloat`will have the value 34.0

This As operator is also reserved for future use as a type-cast operator in order to try-cast from one object to another.